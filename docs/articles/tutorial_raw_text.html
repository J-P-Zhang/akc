<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tutorial for knowledge classification from raw text • akc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tutorial for knowledge classification from raw text">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">akc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/akc_vignette.html">Automatic knowledge classification based on keyword co-occurrrence network</a>
    </li>
    <li>
      <a href="../articles/tutorial_raw_text.html">Tutorial for knowledge classification from raw text</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hope-data-science/akc">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Tutorial for knowledge classification from raw text</h1>
                        <h4 class="author">Huang Tian-Yuan (Hope)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hope-data-science/akc/blob/master/vignettes/tutorial_raw_text.Rmd"><code>vignettes/tutorial_raw_text.Rmd</code></a></small>
      <div class="hidden name"><code>tutorial_raw_text.Rmd</code></div>

    </div>

    
    
<p>This tutorial gives an example of how to use <code>akc</code> package to carry out automatic knowledge classification based on raw text. First, load the packages we need.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(akc)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a></code></pre></div>
<div id="inspect-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#inspect-the-data" class="anchor"></a>Inspect the data</h2>
<p>In the dataset, we have the ID, title, keyword and abstract of documents. We are going to use the keyword as the dictionary to extract keywords from the abstract.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">bibli_data_table</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt; # A tibble: 1,448 x 4</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt;       id title                  keyword                 abstract                </span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                  &lt;chr&gt;                   &lt;chr&gt;                   </span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt;  1     1 Keeping the doors ope~ Austerity; community c~ "English public librari~</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt;  2     2 Comparison of Sloveni~ Comparative librarians~ "This paper aims to pro~</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt;  3     3 Analysis of the facto~ Continuation will of v~ "This study aims to dev~</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt;  4     4 Redefining Library an~ Curriculum; education ~ "The purpose of this st~</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt;  5     5 Can in-house use data~ Check-out use; circula~ "Libraries worldwide ar~</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt;  6     6 Practices of communit~ Community councillors;~ "The purpose of the res~</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt;  7     7 Exploring Becoming, D~ Library and Informatio~ "Professional identity ~</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt;  8     8 Predictors of burnout~ Emotional exhaustion; ~ "Work stress and profes~</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt;  9     9 The Roma and document~ Academic libraries; co~ "This paper explores th~</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt; 10    10 Mediation effect of k~ Job performance; knowl~ "This paper proposes a ~</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">#&gt; # ... with 1,438 more rows</span></a></code></pre></div>
</div>
<div id="get-the-dictionary-from-keyword-field" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-dictionary-from-keyword-field" class="anchor"></a>Get the dictionary from keyword field</h2>
<p><code>keyword_clean</code> is designed to split the keywords and removed pure numbers and contents in the parentheses. All letters would be converted to lower case. Details see the help of <code>keyword_clean</code>, use “?keyword_clean”. After cleaning, we’ll use these keywords to establish a dictionary.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">bibli_data_table <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_clean.html">keyword_clean</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span><span class="kw">pull</span>(keyword) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/make_dict.html">make_dict</a></span>() -&gt;<span class="st"> </span>my_dict</a></code></pre></div>
</div>
<div id="extract-keywords-from-abstract" class="section level2">
<h2 class="hasAnchor">
<a href="#extract-keywords-from-abstract" class="anchor"></a>Extract keywords from abstract</h2>
<p>Using <code>keyword_extract</code> to extract keywords from the abstract. Here, we also exclude the stop words using the “stopword” parameter.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># get stop words from `tidytext` package</span></a>
<a class="sourceLine" id="cb4-2" title="2">tidytext<span class="op">::</span>stop_words <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">    </span><span class="kw">pull</span>(word) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>() -&gt;<span class="st"> </span>my_stopword</a>
<a class="sourceLine" id="cb4-5" title="5">  </a>
<a class="sourceLine" id="cb4-6" title="6">bibli_data_table <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="st">    </span><span class="kw"><a href="../reference/keyword_extract.html">keyword_extract</a></span>(<span class="dt">id =</span> <span class="st">"id"</span>,<span class="dt">text =</span> <span class="st">"abstract"</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="dt">dict =</span> my_dict,<span class="dt">stopword =</span> my_stopword) -&gt;<span class="st"> </span>extracted_keywords</a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; Joining, by = "keyword"</span></a></code></pre></div>
</div>
<div id="merge-keywords-with-same-meanings" class="section level2">
<h2 class="hasAnchor">
<a href="#merge-keywords-with-same-meanings" class="anchor"></a>Merge keywords with same meanings</h2>
<p>While this process has consider lots of factors, such as stemming, lemmatizing, etc. Here I’ll provide a easy implementation. For advanced usage, use “?keyword_merge” to find out.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">extracted_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_merge.html">keyword_merge</a></span>() -&gt;<span class="st"> </span>merged_keywords</a></code></pre></div>
</div>
<div id="divide-keywords-into-groups-automatic-classification" class="section level2">
<h2 class="hasAnchor">
<a href="#divide-keywords-into-groups-automatic-classification" class="anchor"></a>Divide keywords into groups (automatic classification)</h2>
<p>This process will construct a keyword co-occurrence network and use community detection to group the keywords automatically. You can use “top” or “min_freq” to control how many keywords should be included in the network. “top” means how many keywords with largest frequency should be included. “min_freq” means the included keywords should emerge at least how many times. Default uses <code>top = 200</code> and <code>min_freq = 1</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">merged_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_group.html">keyword_group</a></span>() -&gt;<span class="st"> </span>grouped_keywords</a></code></pre></div>
</div>
<div id="get-the-grouped-table" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-grouped-table" class="anchor"></a>Get the grouped table</h2>
<p>Getting the result as a table could be easy by:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">grouped_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw">as_tibble</span>()</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; # A tibble: 203 x 3</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt;    name                 freq group</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt;    &lt;chr&gt;               &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt;  1 academic              351     2</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt;  2 academic librarians    42     2</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt;  3 academic libraries    229     2</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">#&gt;  4 access                201     1</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#&gt;  5 accessibility          25     1</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">#&gt;  6 acquisition            43     2</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">#&gt;  7 activities            110     1</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">#&gt;  8 analysis              301     1</span></a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">#&gt;  9 archives               34     2</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">#&gt; 10 aspects                67     1</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="co">#&gt; # ... with 193 more rows</span></a></code></pre></div>
<p>If you only wants the top keywords to be displayed, <code>keyword_table</code> provides another relatively formal table:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">grouped_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_table.html">keyword_table</a></span>()</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt;   Group `Keywords(TOP 10)`                                                      </span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;                                                                   </span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt; 1     1 library (1583); research (589); information (583); data (437); universi~</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt; 2     2 academic (351); collection (283); development (254); academic libraries~</span></a></code></pre></div>
<p>In such implementation, only two groups are found. You can specify the number of top keywords using “top” parameter.</p>
</div>
<div id="visualization-of-the-network" class="section level2">
<h2 class="hasAnchor">
<a href="#visualization-of-the-network" class="anchor"></a>Visualization of the network</h2>
<p>Currently, <code>keyword_vis</code>,<code>keyword_network</code> and <code>keyword_cloud</code> could all be used to draw plots for the network, but in differnt forms. Let’s try to draw a word cloud first:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">grouped_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_cloud.html">keyword_cloud</a></span>()</a></code></pre></div>
<p><img src="tutorial_raw_text_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>If you want to draw a network, use <code>keyword_network</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">grouped_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_network.html">keyword_network</a></span>()</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; Joining, by = c("name", "freq", "group")</span></a></code></pre></div>
<p><img src="tutorial_raw_text_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>In the plot, “N=106” means altogether there are 106 keywords in the group, though only the top 10 by frequency are showed in the graph. If you only want to visualize the second group and display 20 nodes, try:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">grouped_keywords <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/keyword_network.html">keyword_network</a></span>(<span class="dt">group_no =</span> <span class="dv">2</span>,<span class="dt">max_nodes =</span> <span class="dv">20</span>)</a></code></pre></div>
<p><img src="tutorial_raw_text_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Have fun playing with akc!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#inspect-the-data">Inspect the data</a></li>
      <li><a href="#get-the-dictionary-from-keyword-field">Get the dictionary from keyword field</a></li>
      <li><a href="#extract-keywords-from-abstract">Extract keywords from abstract</a></li>
      <li><a href="#merge-keywords-with-same-meanings">Merge keywords with same meanings</a></li>
      <li><a href="#divide-keywords-into-groups-automatic-classification">Divide keywords into groups (automatic classification)</a></li>
      <li><a href="#get-the-grouped-table">Get the grouped table</a></li>
      <li><a href="#visualization-of-the-network">Visualization of the network</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tian-Yuan Huang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
